{"ast":null,"code":"import convex from \"@turf/convex\";\nimport centroid from \"@turf/centroid\";\nimport { point } from \"@turf/helpers\";\nimport { getType, getCoord } from \"@turf/invariant\";\nimport { coordEach } from \"@turf/meta\";\n/**\n * Takes any {@link Feature} or a {@link FeatureCollection} and returns its [center of mass](https://en.wikipedia.org/wiki/Center_of_mass) using this formula: [Centroid of Polygon](https://en.wikipedia.org/wiki/Centroid#Centroid_of_polygon).\n *\n * @name centerOfMass\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to Feature\n * @returns {Feature<Point>} the center of mass\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var center = turf.centerOfMass(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, center]\n */\nfunction centerOfMass(geojson, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  switch (getType(geojson)) {\n    case \"Point\":\n      return point(getCoord(geojson), options.properties);\n    case \"Polygon\":\n      var coords = [];\n      coordEach(geojson, function (coord) {\n        coords.push(coord);\n      });\n      // First, we neutralize the feature (set it around coordinates [0,0]) to prevent rounding errors\n      // We take any point to translate all the points around 0\n      var centre = centroid(geojson, {\n        properties: options.properties\n      });\n      var translation = centre.geometry.coordinates;\n      var sx = 0;\n      var sy = 0;\n      var sArea = 0;\n      var i, pi, pj, xi, xj, yi, yj, a;\n      var neutralizedPoints = coords.map(function (point) {\n        return [point[0] - translation[0], point[1] - translation[1]];\n      });\n      for (i = 0; i < coords.length - 1; i++) {\n        // pi is the current point\n        pi = neutralizedPoints[i];\n        xi = pi[0];\n        yi = pi[1];\n        // pj is the next point (pi+1)\n        pj = neutralizedPoints[i + 1];\n        xj = pj[0];\n        yj = pj[1];\n        // a is the common factor to compute the signed area and the final coordinates\n        a = xi * yj - xj * yi;\n        // sArea is the sum used to compute the signed area\n        sArea += a;\n        // sx and sy are the sums used to compute the final coordinates\n        sx += (xi + xj) * a;\n        sy += (yi + yj) * a;\n      }\n      // Shape has no area: fallback on turf.centroid\n      if (sArea === 0) {\n        return centre;\n      } else {\n        // Compute the signed area, and factorize 1/6A\n        var area = sArea * 0.5;\n        var areaFactor = 1 / (6 * area);\n        // Compute the final coordinates, adding back the values that have been neutralized\n        return point([translation[0] + areaFactor * sx, translation[1] + areaFactor * sy], options.properties);\n      }\n    default:\n      // Not a polygon: Compute the convex hull and work with that\n      var hull = convex(geojson);\n      if (hull) return centerOfMass(hull, {\n        properties: options.properties\n      });\n      // Hull is empty: fallback on the centroid\n      else return centroid(geojson, {\n        properties: options.properties\n      });\n  }\n}\nexport default centerOfMass;","map":{"version":3,"names":["convex","centroid","point","getType","getCoord","coordEach","centerOfMass","geojson","options","properties","coords","coord","push","centre","translation","geometry","coordinates","sx","sy","sArea","i","pi","pj","xi","xj","yi","yj","a","neutralizedPoints","map","length","area","areaFactor","hull"],"sources":["/Users/brandonpae/Desktop/DevFestHackathon/frontend/node_modules/@turf/center-of-mass/dist/es/index.js"],"sourcesContent":["import convex from \"@turf/convex\";\nimport centroid from \"@turf/centroid\";\nimport { point } from \"@turf/helpers\";\nimport { getType, getCoord } from \"@turf/invariant\";\nimport { coordEach } from \"@turf/meta\";\n/**\n * Takes any {@link Feature} or a {@link FeatureCollection} and returns its [center of mass](https://en.wikipedia.org/wiki/Center_of_mass) using this formula: [Centroid of Polygon](https://en.wikipedia.org/wiki/Centroid#Centroid_of_polygon).\n *\n * @name centerOfMass\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to Feature\n * @returns {Feature<Point>} the center of mass\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var center = turf.centerOfMass(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, center]\n */\nfunction centerOfMass(geojson, options) {\n    if (options === void 0) { options = {}; }\n    switch (getType(geojson)) {\n        case \"Point\":\n            return point(getCoord(geojson), options.properties);\n        case \"Polygon\":\n            var coords = [];\n            coordEach(geojson, function (coord) {\n                coords.push(coord);\n            });\n            // First, we neutralize the feature (set it around coordinates [0,0]) to prevent rounding errors\n            // We take any point to translate all the points around 0\n            var centre = centroid(geojson, { properties: options.properties });\n            var translation = centre.geometry.coordinates;\n            var sx = 0;\n            var sy = 0;\n            var sArea = 0;\n            var i, pi, pj, xi, xj, yi, yj, a;\n            var neutralizedPoints = coords.map(function (point) {\n                return [point[0] - translation[0], point[1] - translation[1]];\n            });\n            for (i = 0; i < coords.length - 1; i++) {\n                // pi is the current point\n                pi = neutralizedPoints[i];\n                xi = pi[0];\n                yi = pi[1];\n                // pj is the next point (pi+1)\n                pj = neutralizedPoints[i + 1];\n                xj = pj[0];\n                yj = pj[1];\n                // a is the common factor to compute the signed area and the final coordinates\n                a = xi * yj - xj * yi;\n                // sArea is the sum used to compute the signed area\n                sArea += a;\n                // sx and sy are the sums used to compute the final coordinates\n                sx += (xi + xj) * a;\n                sy += (yi + yj) * a;\n            }\n            // Shape has no area: fallback on turf.centroid\n            if (sArea === 0) {\n                return centre;\n            }\n            else {\n                // Compute the signed area, and factorize 1/6A\n                var area = sArea * 0.5;\n                var areaFactor = 1 / (6 * area);\n                // Compute the final coordinates, adding back the values that have been neutralized\n                return point([translation[0] + areaFactor * sx, translation[1] + areaFactor * sy], options.properties);\n            }\n        default:\n            // Not a polygon: Compute the convex hull and work with that\n            var hull = convex(geojson);\n            if (hull)\n                return centerOfMass(hull, { properties: options.properties });\n            // Hull is empty: fallback on the centroid\n            else\n                return centroid(geojson, { properties: options.properties });\n    }\n}\nexport default centerOfMass;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}