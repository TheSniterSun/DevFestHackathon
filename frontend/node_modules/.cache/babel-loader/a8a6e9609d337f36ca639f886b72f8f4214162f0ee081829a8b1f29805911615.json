{"ast":null,"code":"var _jsxFileName = \"/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/map/MapPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport axios from 'axios';\nimport * as csv2geojson from 'csv2geojson';\nimport * as turf from '@turf/turf';\nimport './map.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'pk.eyJ1IjoicGFlYiIsImEiOiJjbHM3MWRwaW4wemZ1MmptdDdyNGgwczU0In0.qcDplwnjXuZJqCs-0lqTLg';\nfunction MapboxMap() {\n  _s();\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/light-v10',\n      center: [-73.935, 40.730],\n      zoom: 10,\n      transformRequest: (url, resourceType) => {\n        var isMapboxRequest = url.slice(8, 22) === \"api.mapbox.com\" || url.slice(10, 26) === \"tiles.mapbox.com\";\n        return {\n          url: isMapboxRequest ? url.replace(\"?\", \"?pluginName=sheetMapper&\") : url\n        };\n      }\n    });\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://docs.google.com/spreadsheets/d/1yzDftjjU1xpEdLXdgNZR7fK5gvIotPVYu40RSVr1Y4k/gviz/tq?tqx=out:csv&sheet=mapbox_spreadsheet');\n        console.log(response.data); // Check the actual CSV data\n\n        csv2geojson.csv2geojson(response.data, {\n          latfield: 'Latitude',\n          lonfield: 'Longitude',\n          delimiter: ','\n        }, function (err, data) {\n          console.log(err);\n          if (err) throw new Error(err);\n          map.on('load', () => {\n            map.addSource('points', {\n              type: 'geojson',\n              data: data\n            });\n            map.addLayer({\n              id: 'csvData',\n              type: 'symbol',\n              source: 'points',\n              layout: {\n                'icon-image': 'drinking-water-15',\n                'icon-size': 1.5\n              }\n            });\n            // Add more map functionalities as needed\n          });\n        });\n      } catch (error) {\n        console.error('Error fetching or processing data:', error);\n      }\n    };\n    fetchData();\n    return () => map.remove(); // Clean up map instance on component unmount\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Interactive Map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"map\",\n        style: {\n          position: 'relative',\n          top: '-75px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(MapboxMap, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = MapboxMap;\n;\nexport default MapboxMap;\nvar _c;\n$RefreshReg$(_c, \"MapboxMap\");","map":{"version":3,"names":["React","useEffect","mapboxgl","axios","csv2geojson","turf","jsxDEV","_jsxDEV","Fragment","_Fragment","accessToken","MapboxMap","_s","map","Map","container","style","center","zoom","transformRequest","url","resourceType","isMapboxRequest","slice","replace","fetchData","response","get","console","log","data","latfield","lonfield","delimiter","err","Error","on","addSource","type","addLayer","id","source","layout","error","remove","children","fileName","_jsxFileName","lineNumber","columnNumber","className","position","top","_c","$RefreshReg$"],"sources":["/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/map/MapPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport axios from 'axios';\nimport * as csv2geojson from 'csv2geojson';\nimport * as turf from '@turf/turf';\n\nimport './map.css';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoicGFlYiIsImEiOiJjbHM3MWRwaW4wemZ1MmptdDdyNGgwczU0In0.qcDplwnjXuZJqCs-0lqTLg';\n\nfunction MapboxMap() {\n    \n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/light-v10',\n      center: [-73.935, 40.730],\n      zoom: 10,\n      transformRequest: (url, resourceType) => {\n        var isMapboxRequest =\n          url.slice(8, 22) === \"api.mapbox.com\" ||\n          url.slice(10, 26) === \"tiles.mapbox.com\";\n        return {\n          url: isMapboxRequest\n            ? url.replace(\"?\", \"?pluginName=sheetMapper&\")\n            : url\n        };\n      }\n    });\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://docs.google.com/spreadsheets/d/1yzDftjjU1xpEdLXdgNZR7fK5gvIotPVYu40RSVr1Y4k/gviz/tq?tqx=out:csv&sheet=mapbox_spreadsheet');\n\n        console.log(response.data); // Check the actual CSV data\n\n        csv2geojson.csv2geojson(response.data, {\n          latfield: 'Latitude',\n          lonfield: 'Longitude',\n          delimiter: ','\n        }, function (err, data) {\n            \n          console.log(err);\n          \n          if (err) throw new Error(err);\n          map.on('load', () => {\n            map.addSource('points', {\n              type: 'geojson',\n              data: data\n            });\n            map.addLayer({\n              id: 'csvData',\n              type: 'symbol',\n              source: 'points',\n              layout: {\n                'icon-image': 'drinking-water-15',\n                'icon-size': 1.5\n              }\n            });\n            // Add more map functionalities as needed\n          });\n        });\n      } catch (error) {\n        console.error('Error fetching or processing data:', error);\n      }\n    };\n\n    fetchData();\n\n    return () => map.remove(); // Clean up map instance on component unmount\n  }, []);\n\n  return (<>\n\n    <br />\n\n    <h1>Interactive Map</h1>\n\n    <div className=\"map-container\">\n        <div id=\"map\" style={{position: 'relative', top: '-75px'}}></div>\n    </div>\n    \n    </>);\n};\n\nexport default MapboxMap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}