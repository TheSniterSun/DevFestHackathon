{"ast":null,"code":"var _jsxFileName = \"/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/map/MapPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport axios from 'axios';\nimport * as csv2geojson from 'csv2geojson';\nimport * as turf from '@turf/turf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'YOUR_MAPBOX_ACCESS_TOKEN';\nfunction MapboxMap() {\n  _s();\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/light-v10',\n      center: [-73.935, 40.730],\n      zoom: 10,\n      transformRequest: (url, resourceType) => {\n        var isMapboxRequest = url.slice(8, 22) === \"api.mapbox.com\" || url.slice(10, 26) === \"tiles.mapbox.com\";\n        return {\n          url: isMapboxRequest ? url.replace(\"?\", \"?pluginName=sheetMapper&\") : url\n        };\n      }\n    });\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://docs.google.com/spreadsheets/d/YOUR_SPREADSHEET_ID/gviz/tq?tqx=out:csv&sheet=SHEET_NAME');\n        csv2geojson.csv2geojson(response.data, {\n          latfield: 'Latitude',\n          lonfield: 'Longitude',\n          delimiter: ','\n        }, function (err, data) {\n          if (err) throw new Error(err);\n          map.on('load', () => {\n            map.addSource('points', {\n              type: 'geojson',\n              data: data\n            });\n            map.addLayer({\n              id: 'csvData',\n              type: 'symbol',\n              source: 'points',\n              layout: {\n                'icon-image': 'drinking-water-15',\n                'icon-size': 1.5\n              }\n            });\n            // Add more map functionalities as needed\n          });\n        });\n      } catch (error) {\n        console.error('Error fetching or processing data:', error);\n      }\n    };\n    fetchData();\n    return () => map.remove(); // Clean up map instance on component unmount\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    style: {\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      width: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 10\n  }, this);\n}\n_s(MapboxMap, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = MapboxMap;\n;\nexport default MapboxMap;\nvar _c;\n$RefreshReg$(_c, \"MapboxMap\");","map":{"version":3,"names":["React","useEffect","mapboxgl","axios","csv2geojson","turf","jsxDEV","_jsxDEV","accessToken","MapboxMap","_s","map","Map","container","style","center","zoom","transformRequest","url","resourceType","isMapboxRequest","slice","replace","fetchData","response","get","data","latfield","lonfield","delimiter","err","Error","on","addSource","type","addLayer","id","source","layout","error","console","remove","position","top","bottom","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/map/MapPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport axios from 'axios';\nimport * as csv2geojson from 'csv2geojson';\nimport * as turf from '@turf/turf';\n\nmapboxgl.accessToken = 'YOUR_MAPBOX_ACCESS_TOKEN';\n\nfunction MapboxMap() {\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/light-v10',\n      center: [-73.935, 40.730],\n      zoom: 10,\n      transformRequest: (url, resourceType) => {\n        var isMapboxRequest =\n          url.slice(8, 22) === \"api.mapbox.com\" ||\n          url.slice(10, 26) === \"tiles.mapbox.com\";\n        return {\n          url: isMapboxRequest\n            ? url.replace(\"?\", \"?pluginName=sheetMapper&\")\n            : url\n        };\n      }\n    });\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://docs.google.com/spreadsheets/d/YOUR_SPREADSHEET_ID/gviz/tq?tqx=out:csv&sheet=SHEET_NAME');\n        csv2geojson.csv2geojson(response.data, {\n          latfield: 'Latitude',\n          lonfield: 'Longitude',\n          delimiter: ','\n        }, function (err, data) {\n          if (err) throw new Error(err);\n          map.on('load', () => {\n            map.addSource('points', {\n              type: 'geojson',\n              data: data\n            });\n            map.addLayer({\n              id: 'csvData',\n              type: 'symbol',\n              source: 'points',\n              layout: {\n                'icon-image': 'drinking-water-15',\n                'icon-size': 1.5\n              }\n            });\n            // Add more map functionalities as needed\n          });\n        });\n      } catch (error) {\n        console.error('Error fetching or processing data:', error);\n      }\n    };\n\n    fetchData();\n\n    return () => map.remove(); // Clean up map instance on component unmount\n  }, []);\n\n  return <div id=\"map\" style={{ position: 'absolute', top: 0, bottom: 0, width: '100%' }} />;\n};\n\nexport default MapboxMap;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAO,wDAAwD;AAC/D,OAAO,gDAAgD;AACvD,OAAO,8BAA8B;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,WAAW,MAAM,aAAa;AAC1C,OAAO,KAAKC,IAAI,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnCL,QAAQ,CAACM,WAAW,GAAG,0BAA0B;AAEjD,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnBT,SAAS,CAAC,MAAM;IACd,MAAMU,GAAG,GAAG,IAAIT,QAAQ,CAACU,GAAG,CAAC;MAC3BC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,kCAAkC;MACzCC,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC;MACzBC,IAAI,EAAE,EAAE;MACRC,gBAAgB,EAAEA,CAACC,GAAG,EAAEC,YAAY,KAAK;QACvC,IAAIC,eAAe,GACjBF,GAAG,CAACG,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,gBAAgB,IACrCH,GAAG,CAACG,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,KAAK,kBAAkB;QAC1C,OAAO;UACLH,GAAG,EAAEE,eAAe,GAChBF,GAAG,CAACI,OAAO,CAAC,GAAG,EAAE,0BAA0B,CAAC,GAC5CJ;QACN,CAAC;MACH;IACF,CAAC,CAAC;IAEF,MAAMK,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,GAAG,CAAC,iGAAiG,CAAC;QACnIrB,WAAW,CAACA,WAAW,CAACoB,QAAQ,CAACE,IAAI,EAAE;UACrCC,QAAQ,EAAE,UAAU;UACpBC,QAAQ,EAAE,WAAW;UACrBC,SAAS,EAAE;QACb,CAAC,EAAE,UAAUC,GAAG,EAAEJ,IAAI,EAAE;UACtB,IAAII,GAAG,EAAE,MAAM,IAAIC,KAAK,CAACD,GAAG,CAAC;UAC7BnB,GAAG,CAACqB,EAAE,CAAC,MAAM,EAAE,MAAM;YACnBrB,GAAG,CAACsB,SAAS,CAAC,QAAQ,EAAE;cACtBC,IAAI,EAAE,SAAS;cACfR,IAAI,EAAEA;YACR,CAAC,CAAC;YACFf,GAAG,CAACwB,QAAQ,CAAC;cACXC,EAAE,EAAE,SAAS;cACbF,IAAI,EAAE,QAAQ;cACdG,MAAM,EAAE,QAAQ;cAChBC,MAAM,EAAE;gBACN,YAAY,EAAE,mBAAmB;gBACjC,WAAW,EAAE;cACf;YACF,CAAC,CAAC;YACF;UACF,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC5D;IACF,CAAC;IAEDhB,SAAS,CAAC,CAAC;IAEX,OAAO,MAAMZ,GAAG,CAAC8B,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOlC,OAAA;IAAK6B,EAAE,EAAC,KAAK;IAACtB,KAAK,EAAE;MAAE4B,QAAQ,EAAE,UAAU;MAAEC,GAAG,EAAE,CAAC;MAAEC,MAAM,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAO;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC5F;AAACvC,EAAA,CAxDQD,SAAS;AAAAyC,EAAA,GAATzC,SAAS;AAwDjB;AAED,eAAeA,SAAS;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}