{"ast":null,"code":"import { featureCollection } from \"@turf/helpers\";\nimport Graph from \"./lib/Graph.js\";\nimport EdgeRing from \"./lib/EdgeRing.js\";\n/**\n * Polygonizes {@link LineString|(Multi)LineString(s)} into {@link Polygons}.\n *\n * Implementation of GEOSPolygonize function (`geos::operation::polygonize::Polygonizer`).\n *\n * Polygonizes a set of lines that represents edges in a planar graph. Edges must be correctly\n * noded, i.e., they must only meet at their endpoints.\n *\n * The implementation correctly handles:\n *\n * - Dangles: edges which have one or both ends which are not incident on another edge endpoint.\n * - Cut Edges (bridges): edges that are connected at both ends but which do not form part of a polygon.\n *\n * @name polygonize\n * @param {FeatureCollection|Geometry|Feature<LineString|MultiLineString>} geoJson Lines in order to polygonize\n * @returns {FeatureCollection<Polygon>} Polygons created\n * @throws {Error} if geoJson is invalid.\n */\nexport default function polygonize(geoJson) {\n  var graph = Graph.fromGeoJson(geoJson);\n  // 1. Remove dangle node\n  graph.deleteDangles();\n  // 2. Remove cut-edges (bridge edges)\n  graph.deleteCutEdges();\n  // 3. Get all holes and shells\n  var holes = [],\n    shells = [];\n  graph.getEdgeRings().filter(function (edgeRing) {\n    return edgeRing.isValid();\n  }).forEach(function (edgeRing) {\n    if (edgeRing.isHole()) holes.push(edgeRing);else shells.push(edgeRing);\n  });\n  // 4. Assign Holes to Shells\n  holes.forEach(function (hole) {\n    if (EdgeRing.findEdgeRingContaining(hole, shells)) shells.push(hole);\n  });\n  // 5. EdgeRings to Polygons\n  return featureCollection(shells.map(function (shell) {\n    return shell.toPolygon();\n  }));\n}","map":{"version":3,"names":["featureCollection","Graph","EdgeRing","polygonize","geoJson","graph","fromGeoJson","deleteDangles","deleteCutEdges","holes","shells","getEdgeRings","filter","edgeRing","isValid","forEach","isHole","push","hole","findEdgeRingContaining","map","shell","toPolygon"],"sources":["/Users/brandonpae/Desktop/DevFestHackathon/frontend/node_modules/@turf/polygonize/dist/es/index.js"],"sourcesContent":["import { featureCollection } from \"@turf/helpers\";\nimport Graph from \"./lib/Graph.js\";\nimport EdgeRing from \"./lib/EdgeRing.js\";\n/**\n * Polygonizes {@link LineString|(Multi)LineString(s)} into {@link Polygons}.\n *\n * Implementation of GEOSPolygonize function (`geos::operation::polygonize::Polygonizer`).\n *\n * Polygonizes a set of lines that represents edges in a planar graph. Edges must be correctly\n * noded, i.e., they must only meet at their endpoints.\n *\n * The implementation correctly handles:\n *\n * - Dangles: edges which have one or both ends which are not incident on another edge endpoint.\n * - Cut Edges (bridges): edges that are connected at both ends but which do not form part of a polygon.\n *\n * @name polygonize\n * @param {FeatureCollection|Geometry|Feature<LineString|MultiLineString>} geoJson Lines in order to polygonize\n * @returns {FeatureCollection<Polygon>} Polygons created\n * @throws {Error} if geoJson is invalid.\n */\nexport default function polygonize(geoJson) {\n    var graph = Graph.fromGeoJson(geoJson);\n    // 1. Remove dangle node\n    graph.deleteDangles();\n    // 2. Remove cut-edges (bridge edges)\n    graph.deleteCutEdges();\n    // 3. Get all holes and shells\n    var holes = [], shells = [];\n    graph\n        .getEdgeRings()\n        .filter(function (edgeRing) { return edgeRing.isValid(); })\n        .forEach(function (edgeRing) {\n        if (edgeRing.isHole())\n            holes.push(edgeRing);\n        else\n            shells.push(edgeRing);\n    });\n    // 4. Assign Holes to Shells\n    holes.forEach(function (hole) {\n        if (EdgeRing.findEdgeRingContaining(hole, shells))\n            shells.push(hole);\n    });\n    // 5. EdgeRings to Polygons\n    return featureCollection(shells.map(function (shell) { return shell.toPolygon(); }));\n}\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,eAAe;AACjD,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,QAAQ,MAAM,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,UAAUA,CAACC,OAAO,EAAE;EACxC,IAAIC,KAAK,GAAGJ,KAAK,CAACK,WAAW,CAACF,OAAO,CAAC;EACtC;EACAC,KAAK,CAACE,aAAa,CAAC,CAAC;EACrB;EACAF,KAAK,CAACG,cAAc,CAAC,CAAC;EACtB;EACA,IAAIC,KAAK,GAAG,EAAE;IAAEC,MAAM,GAAG,EAAE;EAC3BL,KAAK,CACAM,YAAY,CAAC,CAAC,CACdC,MAAM,CAAC,UAAUC,QAAQ,EAAE;IAAE,OAAOA,QAAQ,CAACC,OAAO,CAAC,CAAC;EAAE,CAAC,CAAC,CAC1DC,OAAO,CAAC,UAAUF,QAAQ,EAAE;IAC7B,IAAIA,QAAQ,CAACG,MAAM,CAAC,CAAC,EACjBP,KAAK,CAACQ,IAAI,CAACJ,QAAQ,CAAC,CAAC,KAErBH,MAAM,CAACO,IAAI,CAACJ,QAAQ,CAAC;EAC7B,CAAC,CAAC;EACF;EACAJ,KAAK,CAACM,OAAO,CAAC,UAAUG,IAAI,EAAE;IAC1B,IAAIhB,QAAQ,CAACiB,sBAAsB,CAACD,IAAI,EAAER,MAAM,CAAC,EAC7CA,MAAM,CAACO,IAAI,CAACC,IAAI,CAAC;EACzB,CAAC,CAAC;EACF;EACA,OAAOlB,iBAAiB,CAACU,MAAM,CAACU,GAAG,CAAC,UAAUC,KAAK,EAAE;IAAE,OAAOA,KAAK,CAACC,SAAS,CAAC,CAAC;EAAE,CAAC,CAAC,CAAC;AACxF"},"metadata":{},"sourceType":"module","externalDependencies":[]}