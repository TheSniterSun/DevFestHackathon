{"ast":null,"code":"var _jsxFileName = \"/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/chat/TextEntry.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\n// import \"./events.css\";\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport axios from 'axios'; // Import Axios\n\nimport { useNavigate } from 'react-router-dom';\nimport styles from './chat.module.css';\n\n// import Button from 'react-bootstrap/Button';\n\n// this is the component where the user enters text\n// at the bottom of the screen\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TextEntry({\n  onUserTextSubmit\n}) {\n  _s();\n  // const logoPath = '/images/secra_logo.png';\n  const [text, setText] = useState('');\n  const baseURL = \"http://localhost:8000\"; // for local dev this is the backend server\n\n  const submitIconPath = '/images/submit_icon.png';\n  const navigate = useNavigate();\n  const handleTextChange = event => {\n    // pass in the event that occurs (some change / user interaction)\n    setText(event.target.value);\n  };\n\n  // ONCE USER SUBMITS TEXT MESSAGE, IT SHOULD SHOW UP AS A TEXT BUBBLE ON SCREEN\n  // ALSO NEED TO SUBMIT TO DJANGO ENDPOINT\n  const handleSubmit = event => {\n    event.preventDefault(); // Prevent the default form submission behavior\n\n    // first call a function in the parent component (EventsPage), to render the message\n\n    const text_dict = {\n      text: text,\n      sender: 'user'\n    };\n    onUserTextSubmit(text_dict); // call this \n\n    // render the text bubble on screen by calling a function\n\n    // const csrfToken = getCookie('csrftoken'); // get CSRF token (to access resources in server endpoint)\n\n    // Set the CSRF token in the headers\n    const headers = {\n      'Content-Type': 'application/json'\n      // 'X-CSRF-TOKEN': csrfToken,\n    };\n    const payload = JSON.stringify({\n      query: text\n    });\n\n    // Make a POST request using Axios\n    axios.post(baseURL + '/chat/submit', payload, {\n      headers\n    }).then(response => {\n      // Handle the response data\n      console.log('Response:', response.data);\n      if (response.data[\"success\"]) {// True\n\n        // \n      } else {\n        if (response.data[\"error\"] === \"User is not authenticated\") {\n          navigate('/login');\n        }\n      }\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.bottomForm,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: text,\n        onChange: handleTextChange,\n        className: styles.box,\n        placeholder: \"Message to assistant\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: styles.submitButton,\n        type: \"submit\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: submitIconPath,\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          alt: \"submit button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 64\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(TextEntry, \"vTZw5luzt5PQuUHjeAnEnXICTPA=\", false, function () {\n  return [useNavigate];\n});\n_c = TextEntry;\nexport default TextEntry;\nvar _c;\n$RefreshReg$(_c, \"TextEntry\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","useNavigate","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","TextEntry","onUserTextSubmit","_s","text","setText","baseURL","submitIconPath","navigate","handleTextChange","event","target","value","handleSubmit","preventDefault","text_dict","sender","headers","payload","JSON","stringify","query","post","then","response","console","log","data","catch","error","children","className","bottomForm","onSubmit","type","onChange","box","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","id","submitButton","src","style","width","height","alt","_c","$RefreshReg$"],"sources":["/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/chat/TextEntry.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\n// import \"./events.css\";\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport axios from 'axios'; // Import Axios\n\nimport { useNavigate } from 'react-router-dom';\n\nimport styles from './chat.module.css';\n\n// import Button from 'react-bootstrap/Button';\n\n// this is the component where the user enters text\n// at the bottom of the screen\n\nfunction TextEntry({onUserTextSubmit}) {\n    // const logoPath = '/images/secra_logo.png';\n    const [text, setText] = useState('');\n    const baseURL = \"http://localhost:8000\"; // for local dev this is the backend server\n\n    const submitIconPath = '/images/submit_icon.png';\n\n    const navigate = useNavigate();\n\n    const handleTextChange = (event) => { // pass in the event that occurs (some change / user interaction)\n        setText(event.target.value);\n    };\n    \n    // ONCE USER SUBMITS TEXT MESSAGE, IT SHOULD SHOW UP AS A TEXT BUBBLE ON SCREEN\n    // ALSO NEED TO SUBMIT TO DJANGO ENDPOINT\n    const handleSubmit = (event) => {\n        event.preventDefault(); // Prevent the default form submission behavior\n        \n        // first call a function in the parent component (EventsPage), to render the message\n\n        const text_dict = {\n            text: text,\n            sender: 'user'\n        };\n\n        onUserTextSubmit(text_dict); // call this \n\n        // render the text bubble on screen by calling a function\n        \n        // const csrfToken = getCookie('csrftoken'); // get CSRF token (to access resources in server endpoint)\n\n        // Set the CSRF token in the headers\n        const headers = {\n            'Content-Type': 'application/json',\n            // 'X-CSRF-TOKEN': csrfToken,\n        };\n        \n        const payload = JSON.stringify({query: text});\n\n        // Make a POST request using Axios\n        axios.post(baseURL + '/chat/submit', payload, { headers })\n        .then(response => {\n            // Handle the response data\n            console.log('Response:', response.data);\n\n            if (response.data[\"success\"]) { // True\n                \n                // \n            }\n            else {\n                if (response.data[\"error\"] === \"User is not authenticated\") {\n                    navigate('/login');\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n\n    };\n\n    return (\n        <> \n            {/* now, with using CSS module, need to change how we set className */ }\n\n            <form className={styles.bottomForm} onSubmit={handleSubmit}>\n                <input type=\"text\" value={text} onChange={handleTextChange} className={styles.box} placeholder=\"Message to assistant\" required/>\n                <button id={styles.submitButton} type=\"submit\"><img src={submitIconPath} style={{width: \"100%\", height: \"100%\"}}alt=\"submit button\"/> </button>\n            </form>\n        </>\n    );\n}\n\nexport default TextEntry;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}