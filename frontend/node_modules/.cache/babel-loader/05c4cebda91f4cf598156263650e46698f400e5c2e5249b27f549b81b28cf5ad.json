{"ast":null,"code":"var _jsxFileName = \"/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/chat/TextBubble.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\n// import \"./events.css\";\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport axios from 'axios'; // Import Axios\n\nimport styles from './chat.module.css';\n\n// import Button from 'react-bootstrap/Button';\n\n// this is only for rendering a text bubble\n// we should know 2 things: \n// 1. Text: Text itself\n// 2. Pos: Left or right\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TextBubble({\n  text,\n  sender\n}) {\n  _s();\n  const response = text;\n\n  // const logoPath = '/images/secra_logo.png';\n  // const [text, setText] = useState('');\n  const baseURL = \"http://localhost:8000\"; // for local dev this is the backend server\n  // const { getCookie } = useContext(AuthContext);\n\n  const [loadingText, setLoadingText] = useState(\"Generating response.\");\n  useEffect(() => {\n    let intervalId;\n    if (response === \"generating\") {\n      intervalId = setInterval(() => {\n        setLoadingText(prev => {\n          const dotCount = (prev.match(/\\./g) || []).length;\n          if (dotCount < 3) {\n            return prev + \".\";\n          } else {\n            return \"Generating response\";\n          }\n        });\n      }, 600);\n    }\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [response]);\n  function renderMessage() {\n    if (sender === 'user') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.bubble} ${styles.user}`,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }, this);\n    } else {\n      // assistant\n      if (text === \"generating\") {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.bubble} ${styles.assistant}`,\n          children: loadingText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 24\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.bubble} ${styles.assistant}`,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }, this);\n    }\n  }\n\n  // ONCE USER SUBMITS TEXT MESSAGE, IT SHOULD SHOW UP AS A TEXT BUBBLE ON SCREEN\n  // ALSO NEED TO SUBMIT TO DJANGO ENDPOINT\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: renderMessage()\n  }, void 0, false);\n}\n_s(TextBubble, \"JZz+qnimQVMSCd5wz8IMq1Al+4w=\");\n_c = TextBubble;\nexport default TextBubble;\nvar _c;\n$RefreshReg$(_c, \"TextBubble\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","TextBubble","text","sender","_s","response","baseURL","loadingText","setLoadingText","intervalId","setInterval","prev","dotCount","match","length","clearInterval","renderMessage","className","bubble","user","children","fileName","_jsxFileName","lineNumber","columnNumber","assistant","_c","$RefreshReg$"],"sources":["/Users/brandonpae/Desktop/DevFestHackathon/frontend/src/components/chat/TextBubble.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\n// import \"./events.css\";\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport axios from 'axios'; // Import Axios\n\nimport styles from './chat.module.css';\n\n// import Button from 'react-bootstrap/Button';\n\n// this is only for rendering a text bubble\n// we should know 2 things: \n// 1. Text: Text itself\n// 2. Pos: Left or right\n\nfunction TextBubble({text, sender}) {\n\n    const response = text;\n\n    // const logoPath = '/images/secra_logo.png';\n    // const [text, setText] = useState('');\n    const baseURL = \"http://localhost:8000\"; // for local dev this is the backend server\n    // const { getCookie } = useContext(AuthContext);\n\n    const [loadingText, setLoadingText] = useState(\"Generating response.\");\n\n    useEffect(() => {\n        let intervalId;\n\n        if (response === \"generating\") {\n            intervalId = setInterval(() => {\n                setLoadingText(prev => { \n                    const dotCount = (prev.match(/\\./g) || []).length;\n                    if (dotCount < 3) {\n                        return prev + \".\";\n                    } else {\n                        return \"Generating response\";\n                    }\n                });\n            }, 600);\n        }\n\n        return () => {\n            if (intervalId) {\n                clearInterval(intervalId);\n            }\n        };\n    }, [response]);\n\n    function renderMessage() {\n        if (sender === 'user') {\n           return <div className={`${styles.bubble} ${styles.user}`}>{text}</div>;\n        }\n        else { // assistant\n            if (text === \"generating\") {\n                return <div className={`${styles.bubble} ${styles.assistant}`}>{loadingText}</div>;\n            }\n           return <div className={`${styles.bubble} ${styles.assistant}`}>{text}</div>;\n        }\n    }\n    \n    // ONCE USER SUBMITS TEXT MESSAGE, IT SHOULD SHOW UP AS A TEXT BUBBLE ON SCREEN\n    // ALSO NEED TO SUBMIT TO DJANGO ENDPOINT\n\n    return (\n        <> \n            {/* now, with using CSS module, need to change how we set className */ }\n\n            {renderMessage()}\n        </>\n    );\n}\n\nexport default TextBubble;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC;AACA,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,OAAO;AAClC,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B,OAAOC,MAAM,MAAM,mBAAmB;;AAEtC;;AAEA;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEA,SAASC,UAAUA,CAAC;EAACC,IAAI;EAAEC;AAAM,CAAC,EAAE;EAAAC,EAAA;EAEhC,MAAMC,QAAQ,GAAGH,IAAI;;EAErB;EACA;EACA,MAAMI,OAAO,GAAG,uBAAuB,CAAC,CAAC;EACzC;;EAEA,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,sBAAsB,CAAC;EAEtEC,SAAS,CAAC,MAAM;IACZ,IAAIgB,UAAU;IAEd,IAAIJ,QAAQ,KAAK,YAAY,EAAE;MAC3BI,UAAU,GAAGC,WAAW,CAAC,MAAM;QAC3BF,cAAc,CAACG,IAAI,IAAI;UACnB,MAAMC,QAAQ,GAAG,CAACD,IAAI,CAACE,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,EAAEC,MAAM;UACjD,IAAIF,QAAQ,GAAG,CAAC,EAAE;YACd,OAAOD,IAAI,GAAG,GAAG;UACrB,CAAC,MAAM;YACH,OAAO,qBAAqB;UAChC;QACJ,CAAC,CAAC;MACN,CAAC,EAAE,GAAG,CAAC;IACX;IAEA,OAAO,MAAM;MACT,IAAIF,UAAU,EAAE;QACZM,aAAa,CAACN,UAAU,CAAC;MAC7B;IACJ,CAAC;EACL,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,SAASW,aAAaA,CAAA,EAAG;IACrB,IAAIb,MAAM,KAAK,MAAM,EAAE;MACpB,oBAAOL,OAAA;QAAKmB,SAAS,EAAG,GAAErB,MAAM,CAACsB,MAAO,IAAGtB,MAAM,CAACuB,IAAK,EAAE;QAAAC,QAAA,EAAElB;MAAI;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IACzE,CAAC,MACI;MAAE;MACH,IAAItB,IAAI,KAAK,YAAY,EAAE;QACvB,oBAAOJ,OAAA;UAAKmB,SAAS,EAAG,GAAErB,MAAM,CAACsB,MAAO,IAAGtB,MAAM,CAAC6B,SAAU,EAAE;UAAAL,QAAA,EAAEb;QAAW;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MACtF;MACD,oBAAO1B,OAAA;QAAKmB,SAAS,EAAG,GAAErB,MAAM,CAACsB,MAAO,IAAGtB,MAAM,CAAC6B,SAAU,EAAE;QAAAL,QAAA,EAAElB;MAAI;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAC9E;EACJ;;EAEA;EACA;;EAEA,oBACI1B,OAAA,CAAAE,SAAA;IAAAoB,QAAA,EAGKJ,aAAa,CAAC;EAAC,gBAClB,CAAC;AAEX;AAACZ,EAAA,CAxDQH,UAAU;AAAAyB,EAAA,GAAVzB,UAAU;AA0DnB,eAAeA,UAAU;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}